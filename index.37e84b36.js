//! CRUD
//! Практика форми  з полями на країни + погода
const t={form:document.querySelector(".js-search"),formContainer:document.querySelector(".js-form-container"),addField:document.querySelector(".js-add"),list:document.querySelector(".js-list")};t.addField.addEventListener("click",(function(){t.formContainer.insertAdjacentHTML("beforeend",'<input type="text" name="country" />')})),t.form.addEventListener("submit",(async function(e){e.preventDefault();const n=new FormData(e.currentTarget).getAll("country").map((t=>t.trim())).filter((t=>t));try{const a=await async function(t){const e="https://restcountries.com/v3.1/name/",n=await t.map((async t=>(await fetch(`${e}${t}`)).json()));return(await Promise.allSettled(n)).filter((({status:t})=>"fulfilled"===t)).map((({value:t})=>t[0].capital[0]))}(n),c=await async function(t){const e="http://api.weatherapi.com/v1",n="/current.json",a="14c56bddeab14583a6e164909231107",c=await t.map((async t=>(await fetch(`${e}${n}?key=${a}&q=${t}&lang=uk`)).json())),o=await Promise.allSettled(c);return console.log(o),o.filter((({status:t})=>"fulfilled"===t)).map((({value:{current:{temp_c:t,condition:{text:e,icon:n}},location:{country:a,name:c}}})=>({country:a,name:c,text:e,icon:n,temp_c:t})))}(a);console.log(c),t.list.innerHTML=c.reduce(((t,{country:e,name:n,temp_c:a,icon:c,text:o})=>t+`<li>\n  <img src="${c}" alt="${o}" />\n  <h2>${e}</h2>\n  <h2>${n}</h2>\n  <p>${o}</p>\n  <p>${a}</p>\n  </li>`),"")}catch(t){console.log(t)}finally{e.target.reset()}}));
//# sourceMappingURL=index.37e84b36.js.map
